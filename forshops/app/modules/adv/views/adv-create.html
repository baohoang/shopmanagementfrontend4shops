<div class="modal-header">
    <button type="button" class="close" ng-click="cancel()">&times;</button>
    <h3 class="modal-title">Tạo khách hàng mới</h3>
</div>
<div class="modal-body">
    <div id="info">
        <h4>Thông tin</h4>

        <form class="form-horizontal" role="form" name="infoForm" novalidate>
            <div class="form-group">
                <label class="control-label col-sm-2" for="name">Tên:</label>

                <div class="col-sm-6">
                    <input type="text" class="form-control" name="name" id="name" placeholder="Tên khách hàng"
                           ng-model="customer.name" required>
                </div>
                <div ng-show="infoForm.name.$dirty && infoForm.name.$invalid">
                    <label class="control-label text-danger" ng-show="infoForm.name.$error.required">Chưa điền</label>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="group">Nhóm:</label>

                <div class="col-sm-6">
                    <input type="text" class="form-control" name="group" id="group" placeholder="Nhóm khách hàng"
                           ng-model="customer.group">
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="description">Mô tả:</label>

                <div class="col-sm-6">
                    <textarea class="form-control" rows="5" id="description" placeholder="Thông tin thêm"
                              ng-model="customer.description"></textarea>
                </div>
            </div>
        </form>
    </div>
    <div id="phones">
        <h4>Liên lạc</h4>

        <form class="form-horizontal" role="form" name="phoneForm" novalidate>
            <div class="form-group" ng-if="!customer.phones || customer.phones.length==0">
                <label class="control-label col-sm-2"></label>

                <div class="col-sm-6">
                    <input type="text" class="form-control" value="Hiện không có" readonly>
                </div>
                <div class="col-sm-2">
                    <button class="btn btn-default" data-toggle="tooltip" title="Thêm mới"
                            ng-click="createPhone()">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>
            <div class="form-group" ng-repeat="phone in customer.phones">
                <label class="control-label col-sm-2">Số ĐT {{$index}}:</label>

                <div class="col-sm-6">
                    <input type="text" class="form-control" name="phone{{$index}}" placeholder="Số ĐT khách hàng"
                           ng-model="phone.name" required>
                </div>
                <div class="col-sm-2">
                    <button class="btn btn-default" data-toggle="tooltip" title="Xóa"
                            ng-click="deletePhone($index)">
                        <i class="fa fa-times"></i>
                    </button>

                    </button>
                    <button ng-if="$index==0" class="btn btn-default" data-toggle="tooltip" title="Thêm mới"
                            ng-click="createPhone()">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>
            <div ng-show="phoneForm.$dirty && phoneForm.$invalid">
                <label class="control-label text-danger" ng-show="phoneForm.$error.required">Chưa điền</label>
            </div>

        </form>


    </div>

    <div id="addresses">
        <h4>Địa chỉ</h4>

        <form class="form-horizontal" role="form" name="addressForm" novalidate>
            <div class="form-group" ng-if="!customer.addresses || customer.addresses.length==0">
                <label class="control-label col-sm-2"></label>

                <div class="col-sm-6">
                    <input type="text" class="form-control" value="Hiện không có" readonly>
                </div>
                <div class="col-sm-2">
                    <button class="btn btn-default" data-toggle="tooltip" title="Thêm mới"
                            ng-click="createAddress()">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>

            <div class="form-group" ng-if="customer.addresses.length>0" ng-repeat="address in customer.addresses">
                <label class="control-label col-sm-2">Địa chỉ {{$index}}:</label>

                <div class="col-sm-6">
                    <input type="text" class="form-control" name="addresses{{$index}}" placeholder="Địa chỉ khách hàng"
                           ng-model="address.name" required>
                </div>
                <div class="col-sm-2">
                    <button class="btn btn-default" data-toggle="tooltip" title="Xóa"
                            ng-click="deleteAddress($index)">
                        <i class="fa fa-times"></i>
                    </button>
                    <button ng-if="$index==0" class="btn btn-default" data-toggle="tooltip" title="Thêm mới"
                            ng-click="createAddress()">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>
            <div ng-show="addressForm.$dirty && addressForm.$invalid">
                <label class="control-label text-danger" ng-show="addressForm.$error.required">Chưa điền</label>
            </div>

        </form>


    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" type="button" ng-click="create()"
            ng-disabled="!(infoForm.$valid&&phoneForm.$valid&&addressForm.$valid)">
        Thêm
    </button>
    <button class="btn btn-default" type="button" ng-click="cancel()">Hủy bỏ</button>
</div>
